<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delivery & Call Center Financial System</title>
<style>
    body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:0; }
    header { background:#b30000; color:#fff; padding:15px; text-align:center; font-size:22px; }
    .container { padding:20px; }
    .card { background:#fff; padding:20px; border-radius:10px; margin-bottom:20px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { border:1px solid #ccc; padding:8px; text-align:left; }
    th { background:#b30000; color:white; }
    .section-title { font-size:20px; margin-bottom:10px; color:#b30000; font-weight:bold; }
    .btn { padding:10px 15px; background:#b30000; color:#fff; border:none; cursor:pointer; border-radius:5px; margin-top:10px; }
    .btn:hover { background:#7a0000; }
    input[type="number"], input[type="text"] { width:100%; padding:6px; margin-bottom:6px; }
</style>
</head>
<body>
<header>Crispy Chicken â€“ Financial Management System</header>
<div class="container">

    <!-- Revenue Section -->
    <div class="card">
        <div class="section-title">Revenue Data</div>
        <table id="revenueTable">
            <tr>
                <th>Category</th>
                <th>Amount (AED)</th>
                <th>%</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Self Delivery</td>
                <td><input type="number" value="1991180.28"></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>Online Web</td>
                <td><input type="number" value="1500000"></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>Takeaway</td>
                <td><input type="number" value="2200000"></td>
                <td></td>
                <td></td>
            </tr>
        </table> 
        <button class="btn" onclick="calculateRevenue()">Calculate Total Revenue</button> 
        <p><b>Total Revenue:</b> <span id="totalRevenue">0</span> AED</p> 
    </div> 
 
    <!-- Expenses Section --> 
    <div class="card"> 
        <div class="section-title">Direct Expenses</div> 
        <table id="expenseTable"> 
            <tr> 
                <th>Expense Item</th><th>Amount (AED)</th> 
            </tr> 
            <tr><td>Call Center - Salaries & Allowances</td><td><input type="number" value="163389"></td></tr> 
            <tr><td>Call Center - Salary Provision Cost</td><td><input type="number" value="26016.83"></td></tr> 
            <tr><td>Call Center - Visa & Labour</td><td><input type="number" value="14583.33"></td></tr> 
            <tr><td>Bike Rider - Salaries</td><td><input type="number" value="420313.6"></td></tr> 
            <tr><td>Bike Rider - Salary Provision</td><td><input type="number" value="53553.46"></td></tr> 
            <tr><td>Bike Rider - Visa & Labour</td><td><input type="number" value="30000"></td></tr> 
            <tr><td>Bike Rider - Uniforms</td><td><input type="number" value="2400"></td></tr> 
            <tr><td>Bike Rider - Telephone Card</td><td><input type="number" value="1468"></td></tr> 
            <tr><td>Telephone & Internet</td><td><input type="number" value="31020.84"></td></tr> 
            <tr><td>Commission on Credit Cards</td><td><input type="number" value="28453.86"></td></tr> 
            <tr><td>Home Delivery Service Expenses</td><td><input type="number" value="305851.23"></td></tr> 
            <tr><td>Vehicle Repair & Maintenance</td><td><input type="number" value="84901.01"></td></tr> 
            <tr><td>Software Maintenance</td><td><input type="number" value="27539.43"></td></tr> 
            <tr><td>Computer Accessories</td><td><input type="number" value="2055"></td></tr> 
            <tr><td>RTA Motor Bikes Fine</td><td><input type="number" value="6398"></td></tr> 
            <tr><td>Depreciation</td><td><input type="number" value="9118.09"></td></tr> 
            <tr><td>Depreciation - Bikes</td><td><input type="number" value="20073.57"></td></tr> 
        </table> 
        <button class="btn" onclick="calculateExpenses()">Calculate Total Expenses</button>
        <p><b>Total Expenses:</b> <span id="totalExpenses">0</span> AED</p>
    </div>

    <!-- Summary Section -->
    <div class="card">
        <div class="section-title">Summary</div>
        <p><b>Gross Profit:</b> <span id="grossProfit">0</span> AED</p>
        <p><b>Profit %:</b> <span id="profitPercent">0</span>%</p>
    </div>

</div>

<script>
function calculateRevenue() {
    let rows = document.querySelectorAll('#revenueTable tr');
    let total = 0;

    rows.forEach((r, i) => {
        if (i > 0) total += parseFloat(r.children[1].children[0].value || 0);
    });

    document.getElementById('totalRevenue').innerText = total.toFixed(2);

    // Update % column
    rows.forEach((r, i) => {
        if (i > 0) {
            let amount = parseFloat(r.children[1].children[0].value || 0);
            r.children[2].innerText = total > 0 ? ((amount / total) * 100).toFixed(2) + "%" : "0%";
        }
    });

    generateSummary();
}

function calculateExpenses() {
    let rows = document.querySelectorAll('#expenseTable tr');
    let total = 0;

    rows.forEach((r, i) => {
        if (i > 0) total += parseFloat(r.children[1].children[0].value || 0);
    });

    document.getElementById('totalExpenses').innerText = total.toFixed(2);

    generateSummary();
}

function generateSummary() {
    let revenue = parseFloat(document.getElementById('totalRevenue').innerText || 0);
    let expenses = parseFloat(document.getElementById('totalExpenses').innerText || 0);
    let profit = revenue - expenses;
    let percent = revenue > 0 ? (profit / revenue * 100) : 0;

    document.getElementById('grossProfit').innerText = profit.toFixed(2);
    document.getElementById('profitPercent').innerText = percent.toFixed(2);
}
</script>
</body>
</html>
